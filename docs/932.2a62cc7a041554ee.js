"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[932],{6666:(A,p,l)=>{l.r(p),l.d(p,{LoginComponent:()=>h});var g=l(6814),i=l(95),m=l(1120),o=l(4769),_=l(304);function d(t,s){1&t&&(o.TgZ(0,"p"),o._uU(1,"email is required"),o.qZA())}function f(t,s){1&t&&(o.TgZ(0,"p"),o._uU(1," email is notvalid"),o.qZA())}function c(t,s){if(1&t&&(o.TgZ(0,"div",12),o.YNc(1,d,2,0,"p",13),o.YNc(2,f,2,0,"p",13),o.qZA()),2&t){const r=o.oxw();let e,n;o.xp6(1),o.Q6J("ngIf",null==(e=r.formgroup.get("email"))?null:e.getError("required")),o.xp6(1),o.Q6J("ngIf",null==(n=r.formgroup.get("email"))?null:n.getError("email"))}}function v(t,s){1&t&&(o.TgZ(0,"p"),o._uU(1,"password is required"),o.qZA())}function Z(t,s){1&t&&(o.TgZ(0,"p"),o._uU(1," password is notvalid"),o.qZA())}function w(t,s){if(1&t&&(o.TgZ(0,"div",12),o.YNc(1,v,2,0,"p",13),o.YNc(2,Z,2,0,"p",13),o.qZA()),2&t){const r=o.oxw();let e,n;o.xp6(1),o.Q6J("ngIf",null==(e=r.formgroup.get("password"))?null:e.getError("required")),o.xp6(1),o.Q6J("ngIf",null==(n=r.formgroup.get("password"))?null:n.getError("pattern"))}}function T(t,s){1&t&&(o.TgZ(0,"span"),o._UZ(1,"i",14),o.qZA())}let h=(()=>{class t{constructor(r,e){this._AuthService=r,this._Router=e,this.isloading=!1,this.formgroup=new i.cw({email:new i.NI("",[i.kI.required,i.kI.email]),password:new i.NI("",[i.kI.required,i.kI.pattern(/^[a-zA-Z0-9]{6,}$/)])},{validators:[this.conformpassword]})}conformpassword(r){let e=r.get("password"),n=r.get("rePassword");e?.value!=n?.value?n?.setErrors({mismatch:!0}):""==e?.value&&n?.setErrors({reguired:!0})}login(){let r=this.formgroup.value;console.log(r),this.isloading=!0,this._AuthService.signinlogin(r).subscribe({next:e=>{"success"==e.message&&(console.log(e),localStorage.setItem("eToken",e.token),this.isloading=!1,this._Router.navigate(["/home"]))},error:e=>{this.isloading=!1,console.log(e)}})}static#o=this.\u0275fac=function(e){return new(e||t)(o.Y36(_.e),o.Y36(m.F0))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],standalone:!0,features:[o.jDz],decls:20,vars:5,consts:[[1,"mx-auto","w-75","mt-5","bg-main-light","p-2"],[3,"formGroup","ngSubmit"],[1,"div"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["class","div alert alert-danger mx-auto w-50 ",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mb-2","btn-main",3,"disabled"],[4,"ngif"],["routerLink","/forgetpassword",1,"link-primary"],[1,"div","alert","alert-danger","mx-auto","w-50"],[4,"ngIf"],[1,"fas","fa-spin","fa-spinner"]],template:function(e,n){if(1&e&&(o.TgZ(0,"section",0)(1,"h1"),o._uU(2,"login now"),o.qZA(),o.TgZ(3,"form",1),o.NdJ("ngSubmit",function(){return n.login()}),o.TgZ(4,"div",2)(5,"label",3),o._uU(6,"email"),o.qZA(),o._UZ(7,"input",4),o.YNc(8,c,3,2,"div",5),o.qZA(),o.TgZ(9,"div",2)(10,"label",6),o._uU(11,"password"),o.qZA(),o._UZ(12,"input",7),o.YNc(13,w,3,2,"div",5),o.qZA(),o.TgZ(14,"div",8)(15,"button",9),o.YNc(16,T,2,0,"span",10),o._uU(17,"register"),o.qZA(),o.TgZ(18,"a",11),o._uU(19," forget password"),o.qZA()()()()),2&e){let a,u;o.xp6(3),o.Q6J("formGroup",n.formgroup),o.xp6(5),o.Q6J("ngIf",(null==(a=n.formgroup.get("email"))?null:a.errors)&&(null==(a=n.formgroup.get("email"))?null:a.touched)),o.xp6(5),o.Q6J("ngIf",(null==(u=n.formgroup.get("password"))?null:u.errors)&&(null==(u=n.formgroup.get("password"))?null:u.touched)),o.xp6(2),o.Q6J("disabled",n.formgroup.invalid),o.xp6(1),o.Q6J("ngif",n.isloading)}},dependencies:[g.ez,g.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,m.rH]})}return t})()}}]);