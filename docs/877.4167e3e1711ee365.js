"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[877],{9877:(C,p,i)=>{i.r(p),i.d(p,{ForgetpassComponent:()=>b});var l=i(6814),r=i(95),t=i(4769),m=i(9862);let u=(()=>{class s{constructor(e){this._HttpClient=e}forgetpassword(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/auth/forgotPasswords",e)}resetpassword(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/auth/verifyResetCode",e)}putpassword(e){return this._HttpClient.put("https://ecommerce.routemisr.com/api/v1/auth/resetPassword",e)}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(m.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var c=i(1120);function g(s,a){1&s&&(t.TgZ(0,"p",10),t._uU(1," it need required "),t.qZA())}function f(s,a){1&s&&(t.TgZ(0,"p",10),t._uU(1," email is not valid "),t.qZA())}function _(s,a){if(1&s&&(t.TgZ(0,"div",8),t.YNc(1,g,2,0,"p",9),t.YNc(2,f,2,0,"p",9),t.qZA()),2&s){const e=t.oxw(2);let o,n;t.xp6(1),t.Q6J("ngIf",null==(o=e.formgroup.get("email"))?null:o.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(n=e.formgroup.get("email"))?null:n.getError("email"))}}function d(s,a){if(1&s&&(t.TgZ(0,"p",8),t._uU(1),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.usermeg," ")}}function h(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"section",1)(1,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.forgetpassword())}),t.TgZ(2,"div")(3,"label",3),t._uU(4,"email"),t.qZA(),t._UZ(5,"input",4),t.TgZ(6,"button",5),t._uU(7,"forgetpass"),t.qZA(),t.YNc(8,_,3,2,"div",6),t.YNc(9,d,2,1,"p",7),t.qZA()()()}if(2&s){const e=t.oxw();let o;t.xp6(1),t.Q6J("formGroup",e.formgroup),t.xp6(7),t.Q6J("ngIf",(null==(o=e.formgroup.get("email"))?null:o.errors)&&(null==(o=e.formgroup.get("email"))?null:o.touched)),t.xp6(1),t.Q6J("ngif",e.usermeg)}}function w(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"section",1)(1,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.resetpassword())}),t.TgZ(2,"div")(3,"label",11),t._uU(4,"resetCode"),t.qZA(),t._UZ(5,"input",12),t.TgZ(6,"button",5),t._uU(7,"restpass"),t.qZA()()()()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetpass)}}function x(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"section",1)(1,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.putpassword())}),t.TgZ(2,"div")(3,"label",13),t._uU(4,"newPassword"),t.qZA(),t._UZ(5,"input",14),t.TgZ(6,"button",5),t._uU(7,"updatapassword"),t.qZA()()()()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.updata)}}let b=(()=>{class s{constructor(e,o){this._ForgetService=e,this._Router=o,this.btn1=!0,this.btn2=!1,this.btn3=!1,this.email="",this.formgroup=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email])}),this.resetpass=new r.cw({resetCode:new r.NI("")}),this.updata=new r.cw({newPassword:new r.NI("")})}forgetpassword(){console.log(this.formgroup.value);let e=this.formgroup.value;this.email=e.email,this._ForgetService.forgetpassword(e).subscribe({next:o=>{console.log(o),this.usermeg=o.message,console.log(this.usermeg),this.btn1=!1,this.btn2=!0,this.btn3=!1},error:o=>{this.usermeg=o.error.message,console.log(this.usermeg)}})}resetpassword(){this._ForgetService.resetpassword(this.resetpass.value).subscribe({next:o=>{console.log(o),this.btn1=!1,this.btn2=!1,this.btn3=!0}})}putpassword(){let e=this.updata.value;e.email=this.email,this._ForgetService.putpassword(e).subscribe({next:o=>{console.log(o),o.token&&(localStorage.setItem("eToken",o.token),this._Router.navigate(["/home"]))}})}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(u),t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-forgetpass"]],standalone:!0,features:[t.jDz],decls:3,vars:3,consts:[["class","mx-auto w-50 rounded shadow  bg-main-light",4,"ngIf"],[1,"mx-auto","w-50","rounded","shadow","bg-main-light"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","formControlName","email",1,"form-control"],[1,"btn-main","mt-2"],["class","alert alert-danger mx-auto w-50",4,"ngIf"],["class","alert alert-danger mx-auto w-50 ",4,"ngif"],[1,"alert","alert-danger","mx-auto","w-50"],["class","mb-0 ",4,"ngIf"],[1,"mb-0"],["for","resetCode"],["type","text","formControlName","resetCode",1,"form-control"],["for","newPassword"],["type","password","formControlName","newPassword",1,"form-control"]],template:function(o,n){1&o&&(t.YNc(0,h,10,3,"section",0),t.YNc(1,w,8,1,"section",0),t.YNc(2,x,8,1,"section",0)),2&o&&(t.Q6J("ngIf",n.btn1),t.xp6(1),t.Q6J("ngIf",n.btn2),t.xp6(1),t.Q6J("ngIf",n.btn3))},dependencies:[l.ez,l.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["label[_ngcontent-%COMP%]{font-size:22px;font-weight:500px;margin-top:10px}"]})}return s})()}}]);