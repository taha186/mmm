"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[872],{6872:(f,r,s)=>{s.r(r),s.d(r,{CheckoutComponent:()=>m});var l=s(6814),n=s(95),t=s(4769),h=s(9862);let a=(()=>{class c{constructor(o){this._HttpClient=o,this.mytoken={token:localStorage.getItem("eToken")}}checkout(o,e){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${o}?url=http://localhost:4200`,{shippingAddress:e},{headers:this.mytoken})}static#t=this.\u0275fac=function(e){return new(e||c)(t.LFG(h.eN))};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var u=s(1120);let m=(()=>{class c{constructor(o,e,i){this._CheckoutService=o,this._ActivatedRoute=e,this._Router=i,this.checkid="",this.formgroup=new n.cw({details:new n.NI(""),phone:new n.NI(" "),city:new n.NI("")})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:o=>{console.log(o.get("id")),this.checkid=o.get("id")}})}checkout(){let o=this.formgroup.value;console.log(this.formgroup.value),this._CheckoutService.checkout(this.checkid,o).subscribe({next:e=>{console.log(e),"success"===e.status&&window.open(e.session.url,"_self")}})}static#t=this.\u0275fac=function(e){return new(e||c)(t.Y36(a),t.Y36(u.gz),t.Y36(u.F0))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-checkout"]],standalone:!0,features:[t.jDz],decls:18,vars:1,consts:[[1,"mx-auto","w-50","bg-main-light","rounded","shadow"],[1,"p-2",3,"formGroup","ngSubmit"],["for","details"],["type","text","formControlName","details",1,"form-control"],["for","phone"],["type","tel","formControlName","phone",1,"form-control"],["for","city"],["type","text","formControlName","city",1,"form-control"],[1,"btn","btn-main","mt-3",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2,"checkout please"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.checkout()}),t.TgZ(4,"div")(5,"label",2),t._uU(6," details"),t.qZA(),t._UZ(7,"input",3),t.qZA(),t.TgZ(8,"div")(9,"label",4),t._uU(10," phone"),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"div")(13,"label",6),t._uU(14," city"),t.qZA(),t._UZ(15,"input",7),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){return i.checkout()}),t._uU(17,"checkout"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",i.formgroup))},dependencies:[l.ez,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:["label[_ngcontent-%COMP%]{font-size:20px;color:#000000c9;font-weight:400}h2[_ngcontent-%COMP%]{font-size:25px;padding-top:15px}"]})}return c})()}}]);